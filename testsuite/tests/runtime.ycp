{

include "testsuite.ycp";

map READ = $[
    "init" : $[
	"scripts" : $[ "exists" : true ]
    ],
    "probe" : $[
	"system" : [],
    ],
];

TESTSUITE_INIT([READ], nil);
include "network/runtime.ycp";

map EXEC0 = $[ "target" : $[ "bash" : 0,
			     "bash_output": $[ "exit": 0,
					       "stdout": "",
					       "stderr": "",
					       ],
			     ],
		   ];
map EXEC1 = $[ "target" : $[ "bash" : 1,
			     "bash_output": $[ "exit": 1,
					       "stdout": "",
					       "stderr": "Dummy error message",
					       ],
			     ],
		   ];

DUMP("ReadStatus");
TEST(``(ReadStatus()), [], nil);

DUMP("RunSuSEconfig");
TEST(``(RunSuSEconfig()), [$[],$[],EXEC0], nil);
TEST(``(RunSuSEconfig()), [$[],$[],EXEC1], nil);

DUMP("StopNetwork");
TEST(``(StopNetwork()), [$[],$[],EXEC0], nil);
TEST(``(StopNetwork()), [$[],$[],EXEC1], nil);

DUMP("StartNetwork");
TEST(``(StartNetwork()), [$[],$[],EXEC0], nil);
TEST(``(StartNetwork()), [$[],$[],EXEC1], nil);

DUMP("RestartNetwork");
TEST(``(RestartNetwork()), [$[],$[],EXEC0], nil);
TEST(``(RestartNetwork()), [$[],$[],EXEC1], nil);

DUMP("SetupSMPPPD");
TEST(``(SetupSMPPPD()), [READ,$[],EXEC0], nil);
TEST(``(SetupSMPPPD()), [READ,$[],EXEC1], nil);

}
