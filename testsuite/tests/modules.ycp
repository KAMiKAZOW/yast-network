{

include "testsuite.ycp";

map READ = $[
    "probe" : $[ "system" : [], ],
    "target" : $[ "tmpdir" : "/tmp", ],
];

TESTSUITE_INIT([READ], nil);

map Module = $[];
map Modules = $[];
list DeletedModules = [];
include "network/modules.ycp";

DUMP("AddModule");
TEST(``(AddModule("eth")), [], nil);
DUMP(Module);

DUMP("ChangeModule");
Module = $[ "options" : "-o=dummy2" ];
TEST(``(ChangeModule("dummy2", true)), [], nil);
DUMP(Modules);
Module = $[ "options" : "-o=dummy2" ];
TEST(``(ChangeModule("dummy2", true)), [], nil);
DUMP(Modules);
Module = $[];
TEST(``(ChangeModule("dummy2", true)), [], nil);
DUMP(Modules);

}
